---
title: BabiliWebpackPlugin
source: https://raw.githubusercontent.com/webpack-contrib/babili-webpack-plugin/master/README.md
edit: https://github.com/webpack-contrib/babili-webpack-plugin/edit/master/README.md
---
## 安装

```bash
npm install babili-webpack-plugin --save-dev
```

## 使用

```js
// webpack.config.js
const BabiliPlugin = require("babili-webpack-plugin");
module.exports = {
  entry: //...,
  output: //...,
  plugins: [
    new BabiliPlugin(babiliOptions, overrides)
  ]
}
```

## 选项

#### babiliOptions

`babiliOptions`会被传递到babili preset。可以查阅 https://github.com/babel/babili/tree/master/packages/babel-preset-babili#options. `Default: {}`。

#### Overrides

+ `test`: JS文件拓展名正则表达式。 默认： `/\.js($|\?)/i`
+ `comments`: 保留注释。 默认： `/@preserve|@licen(s|c)e/`。使用假值来移除所有的注释。接收函数，具有test（正则）属性的对象，以及值这几种类型。
+ `sourceMap`: 默认：使用 [webpackConfig.devtool](https://webpack.js.org/configuration/devtool/)。通过这个设置来重写。
+ `parserOpts`: 配置具有特殊 parser 选项的 babel。
+ `babel`: 通过自定义babel-core代替。 `require("babel-core")`
+ `babili`: 通过自定义babili preset来代替。 `require("babel-preset-babili")`.

## 为什么

你也可以对于webpack使用[babel-loader](https://github.com/babel/babel-loader)并且包括`babili`[作为一个预设](https://github.com/babel/babili#babel-preset)，这样应该会更快 - 因为babili将操作更小的文件。 但是，那么，为什么这个插件存在？

+ webpack loader对单个文件操作，并且babini preset作为webpack loader将考虑每个文件在浏览器全局范围内（默认情况下）直接执行，并且不会优化顶级范围中的一些事情。 这将会发生变化，你可以选择优化在顶级范围进行有话 - [babel/babili#210](https://github.com/babel/babili/issues/210), [babel/babili#203](https://github.com/babel/babili/issues/203)，等..
+ 当您通过运行babel-loader来排除`node_modules`时，babili优化不会应用于被排除的文件，因为它不会通过minifier来传递。
+ When you use the babel-loader with webpack, the code generated by webpack for the module system doesn't go through the loader and is not optimized by babili.
+ 当你将babel-loader和webpack一起使用的时候，webpack为模块系统生成的代码不会通过loader，并且不会被babili优化。
+ webpack插件可以对整个chunk/bundle输出进行操作，并且可以优化整个包，您可以看到压缩后的输出中的一些差异。 但这可能会有一点慢，因为文件通常很大。 所以还有[另一个想法](https://github.com/boopathi/babili-webpack-plugin/issues/8)，我们可以应用一些优化作为loader的一部分以及对插件进行一些优化。

## Maintainers

<table>
  <tbody>
    <tr>
      <td align="center">
        <img width="150" height="150"
        src="https://avatars2.githubusercontent.com/u/294474?v=3&s=150">
        </br>
        <a href="https://github.com/boopathi">Boopathi Rajaa</a>
      </td>
      <td align="center">
        <img width="150" height="150"
        src="https://avatars3.githubusercontent.com/u/166921?v=3&s=150">
        </br>
        <a href="https://github.com/bebraw">Juho VepsÃ¤lÃ¤inen</a>
      </td>
      <td align="center">
        <img width="150" height="150"
        src="https://avatars2.githubusercontent.com/u/8420490?v=3&s=150">
        </br>
        <a href="https://github.com/d3viant0ne">Joshua Wiens</a>
      </td>
      <td align="center">
        <img width="150" height="150"
        src="https://avatars3.githubusercontent.com/u/533616?v=3&s=150">
        </br>
        <a href="https://github.com/SpaceK33z">Kees Kluskens</a>
      </td>
      <td align="center">
        <img width="150" height="150"
        src="https://avatars3.githubusercontent.com/u/3408176?v=3&s=150">
        </br>
        <a href="https://github.com/TheLarkInn">Sean Larkin</a>
      </td>
    </tr>
  <tbody>
</table>

[npm]: https://img.shields.io/npm/v/babili-webpack-plugin.svg
[npm-url]: https://npmjs.com/package/babili-webpack-plugin

[deps]: https://david-dm.org/webpack-contrib/babili-webpack-plugin.svg
[deps-url]: https://david-dm.org/webpack-contrib/babili-webpack-plugin

[chat]: https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg
[chat-url]: https://gitter.im/webpack/webpack

[test]: https://travis-ci.org/webpack-contrib/babili-webpack-plugin.svg?branch=master
[test-url]: https://travis-ci.org/webpack-contrib/babili-webpack-plugin

[cover]: https://codecov.io/gh/webpack-contrib/babili-webpack-plugin/branch/master/graph/badge.svg
[cover-url]: https://codecov.io/gh/webpack-contrib/babili-webpack-plugin

[quality]: https://www.bithound.io/github/webpack-contrib/babili-webpack-plugin/badges/score.svg
[quality-url]: https://www.bithound.io/github/webpack-contrib/babili-webpack-plugin

***

> 原文：https://webpack.js.org/plugins/babili-webpack-plugin/
